<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Fighter Game: Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
        }
        header {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 5px 0;
            position: sticky;
            top: 0;
            width: 100%;
        }
        .container {
            max-width: 900px;
            margin: auto;
            padding: 20px 50px;
            background: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        h2, h3 {
            color: #444;
        }
        code {
            background: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        ul {
            list-style: disc;
            margin-left: 20px;
        }
        footer {
            text-align: center;
            padding: 10px 0;
            background: #333;
            color: white;
            bottom: 0;
            width: 100%;
        }
        .part{
            text-align: center;
        }
        .image{
            width: 420px;
        }
    </style>
</head>
<body>

<header>
    <h1>Space Fighter Game: Report</h1>
</header>

<div class="container">
    
    <section>
        <h2>Project Overview</h2>
        <p>The Space Fighter Game is an arcade-style shooting game developed using Python and the Pygame library. This report provides a detailed breakdown of the code structure, including descriptions of every function and its role in the game. The game challenges players to control a spaceship, avoid obstacles, collect coins and power-ups, and shoot down enemies.</p>
    </section>

    <section>
        <img class="image" src="Assets/image.png" alt="">
        <img class="image" src="Assets/game5.jpg" alt="">
    </section>

    <div class="section">
        <h2>Game Features</h2>
        <ul>
            <li>Player controls for movement and shooting</li>
            <li>Automated AI player control</li>
            <li>Dynamic obstacles and power-ups</li>
            <li>Collision detection and scoring</li>
            <li>Video background integration using OpenCV</li>
            <li>Game Over and restart functionality</li>
        </ul>
    </div>

    <section>
        <h2>Game Structure</h2>
        <h3>Initialization</h3>
        <ul>
            <li><strong>Pygame Initialization:</strong> The game begins by initializing Pygame with <code>pygame.init()</code>.</li>
            <li><strong>Screen Setup:</strong> The game window is set to 800x700 pixels.</li>
            <li><strong>Global Variables:</strong> These include player attributes, obstacle parameters, coin and power-up configurations, and the score.</li>
            <li><strong>Asset Loading:</strong> Backgrounds, spaceship, obstacles, and other images are loaded and scaled to fit the game dimensions.</li>
        </ul>
    </section>

    <div class="section">
        <h2>Core Functions</h2>
        <ul>
            <li><code>create_obstacle()</code>: Creates obstacles at random positions.</li>
            <li><code>create_coin()</code>: Creates coin at random position.</li>
            <li><code>create_life_power_up()</code>: Creates life gem at random position.</li>
            <li><code>check_collision()</code>: Detects collisions between the player and obstacles.</li>
            <li><code>shoot_bullet()</code>: Fires bullets from the player's position.</li>
            <li><code>ai_control()</code>: AI controls the game itself as a player.</li>
            <li><code>draw()</code>: Renders all game elements on the screen.</li>
        </ul>
    </div>

    <section>
        <h2>Functions and Their Roles</h2>
        <article>
            <h3>1. <code>is_overlapping</code></h3>
            <p><strong>Purpose:</strong> Determines if any obstacle overlap with each other. Used to check collisions between game elements.</p>
            <p><strong>Parameters:</strong></p>
            <ul>
                <li><code>x1, y1, w1, h1:</code> Coordinates and dimensions of the first rectangle.</li>
                <li><code>x2, y2, w2, h2:</code> Coordinates and dimensions of the second rectangle.</li>
            </ul>
            <p><strong>Returns:</strong> Boolean indicating overlap.</p>
        </article>

        <article>
            <h3>2. <code>create_obstacle</code></h3>
            <p><strong>Purpose:</strong> Spawns new obstacles at random x-coordinates while avoiding overlaps with other objects.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Attempts up to 20 times to place the obstacle without overlapping.</li>
                <li>Increments the obstacle count and spawns coins or power-ups periodically.</li>
            </ul>
        </article>

        <article>
            <h3>3. <code>move_obstacles</code></h3>
            <p><strong>Purpose:</strong> Moves obstacles downward and removes those that leave the screen.</p>
            <p><strong>Effect:</strong> Increases the player’s score when obstacles pass off-screen.</p>
        </article>

        <article>
            <h3>4. <code>create_coin</code></h3>
            <p><strong>Purpose:</strong> Spawns a collectible coin at the top of the screen at random positions.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Avoids overlaps with existing obstacles.</li>
            </ul>
        </article>

        <article>
            <h3>5. <code>move_coin</code></h3>
            <p><strong>Purpose:</strong> Moves the coin downward and removes it if it leaves the screen or absorbed by the player.</p>
        </article>

        <article>
            <h3>6. <code>create_life_power_up</code></h3>
            <p><strong>Purpose:</strong> Spawns a life power-up at the top of the screen at random positions.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Avoids overlaps with existing obstacles and the coin.</li>
            </ul>
        </article>

        <article>
            <h3>7. <code>move_life_power_up</code></h3>
            <p><strong>Purpose:</strong> Moves the life power-up downward and removes it if it leaves the screen or absorbed by the player.</p>
        </article>

        <article>
            <h3>8. <code>check_collision</code></h3>
            <p><strong>Purpose:</strong> Checks if the player collides with any obstacles.</p>
            <p><strong>Effect:</strong> Reduces player lives and clears obstacles on collision.</p>
            <p><strong>Returns:</strong> Boolean indicating if a collision occurred.</p>
        </article>

        <article>
            <h3>9. <code>check_coin_collection</code></h3>
            <p><strong>Purpose:</strong> Checks if the player collects a coin.</p>
            <p><strong>Effect:</strong></p>
            <ul>
                <li>Increases score.</li>
                <li>Increases game difficulty by spawning obstacles faster and speeding them up.</li>
            </ul>
        </article>

        <article>
            <h3>10. <code>check_life_power_up_collection</code></h3>
            <p><strong>Purpose:</strong> Checks if the player collects a life power-up.</p>
            <p><strong>Effect:</strong></p>
            <ul>
                <li>Grants an extra life.</li>
            </ul>
        </article>

        <article>
            <h3>11. <code>shoot_bullet</code></h3>
            <p><strong>Purpose:</strong> Fires a bullet from the player’s position.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Bullets are added to a global list and move upwards.</li>
            </ul>
        </article>

        <article>
            <h3>12. <code>move_bullets</code></h3>
            <p><strong>Purpose:</strong> Moves bullets upward and checks for collisions with obstacles.</p>
            <p><strong>Effect:</strong></p>
            <ul>
                <li>Removes obstacles and bullets upon collision.</li>
                <li>Increases score.</li>
            </ul>
        </article>
        
        <article>
            <h3>13. <code>a_star</code></h3>
            <p><strong>Purpose:</strong> Implements the A* pathfinding algorithm to guide AI movement.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Calculates the optimal path from <code>start</code> to <code>target</code> using Manhattan distance as the heuristic.</li>
                <li>Avoids obstacles and dynamically replans the path.</li>
            </ul>
            <p><strong>Returns:</strong> A sequence of positions representing the shortest path.</p>
        </article>
        
        <article>
            <h3>14. <code>heuristic</code></h3>
            <p><strong>Purpose:</strong> Calculates the Manhattan distance between a position and the target for use in the A* algorithm.</p>
        </article>
        
        <article>
            <h3>15. <code>get_neighbors</code></h3>
            <p><strong>Purpose:</strong> Generates the neighboring cells of a given position, considering grid boundaries.</p>
            <p><strong>Returns:</strong> A list of valid neighboring positions.</p>
        </article>
        
        <article>
            <h3>16. <code>reconstruct_path</code></h3>
            <p><strong>Purpose:</strong> Reconstructs the path from the target back to the start position using the <code>came_from</code> map in A*.</p>
            <p><strong>Returns:</strong> A list of grid positions representing the optimal path.</p>
        </article>
        
        <article>
            <h3>17. <code>predict_obstacle_positions</code></h3>
            <p><strong>Purpose:</strong> Predicts future positions of obstacles based on their current movement and considers the grid positions as blocked cell.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Simulates obstacle movement for a specified number of steps.</li>
                <li>Useful for dynamic AI planning.</li>
            </ul>
            <p><strong>Returns:</strong> A set of obstacle positions projected for a given number of steps.</p>
        </article>
        
        <article>
            <h3>18. <code>avoid_obstacles</code></h3>
            <p><strong>Purpose:</strong> Suggests safe moves to help the player avoid nearby obstacles.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Considers proximity and available safe spaces.</li>
            </ul>
            <p><strong>Returns:</strong> The optimal position for the player to move.</p>
        </article>
        
        <article>
            <h3>19. <code>handle_potential_collisions</code></h3>
            <p><strong>Purpose:</strong> Detects obstacles in the player's path and fires bullets.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Ensures obstacles within vertical proximity are handled.</li>
                <li>Adjusts player position or shoots bullets to avoid collisions.</li>
            </ul>
        </article>
        
        <article>
            <h3>20. <code>ai_control_with_dynamic_replanning</code></h3>
            <p><strong>Purpose:</strong> Controls AI movement using dynamic replanning.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Prioritizes life power-ups and coins.</li>
                <li>Uses A* pathfinding to navigate safely.</li>
                <li>Implements obstacle avoidance and shooting mechanisms.</li>
            </ul>
        </article>
        
        <article>
            <h3>21. <code>draw(video_frame)</code></h3>
            <p><strong>Purpose:</strong> Renders all game elements on the screen.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Displays the video background using OpenCV and Pygame.</li>
                <li>Draws player, bullets, obstacles, coins, and life power-ups.</li>
                <li>Updates UI elements like the score and remaining lives.</li>
            </ul>
        </article>
        
        <article>
            <h3>22. <code>draw_game_over()</code></h3>
            <p><strong>Purpose:</strong> Displays the "Game Over" screen.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Shows the final score and restart/quit options.</li>
                <li>Uses a unique background for the Game Over state.</li>
            </ul>
        </article>
        
        <article>
            <h3>23. <code>game_loop()</code></h3>
            <p><strong>Purpose:</strong> The main loop managing the game’s state and rendering.</p>
            <p><strong>Key Points:</strong></p>
            <ul>
                <li>Updates positions for all elements (obstacles, bullets, power-ups).</li>
                <li>Handles user input, collision detection, and game logic.</li>
                <li>Continuously draws the screen or transitions to Game Over.</li>
            </ul>
        </article>
        
    </section>

    <section>
        <h2>Dependencies</h2>
        <ul>
            <li><a href="https://www.pygame.org/docs/">Pygame</a>: Library for graphics and input handling.</li>
            <li><a href="https://www.geeksforgeeks.org/python-play-a-video-using-opencv/">OpenCV</a>: For video playback and manipulation.</li>
        </ul>
        <h3>Pygame</h3>
        <ul>
            <li><code>pygame.init()</code>: Initializes the Pygame library.</li>
            <li><code>pygame.display.set_mode()</code>: Sets up the game window.</li>
            <li><code>pygame.display.set_caption()</code>: Sets the window title.</li>
            <li><code>pygame.image.load()</code>: Loads images for the game.</li>
            <li><code>pygame.transform.scale()</code>: Resizes images.</li>
            <li><code>pygame.surfarray.make_surface()</code>: Converts video frames to Pygame surfaces.</li>
            <li><code>pygame.font.SysFont()</code>: Creates fonts for rendering text.</li>
            <li><code>pygame.draw.rect()</code>: Draws rectangles for bullets.</li>
            <li><code>pygame.key.get_pressed()</code>: Captures real-time key presses.</li>
            <li><code>pygame.event.get()</code>: Processes user events like key presses and quits.</li>
            <li><code>pygame.quit()</code>: Closes the Pygame application.</li>
            <li><code>pygame.time.Clock()</code>: Controls the frame rate.</li>
        </ul>
        <h3>OpenCV</h3>
        <ul>
            <li><code>cv2.VideoCapture()</code>: Opens video files.</li>
            <li><code>cv2.VideoCapture.read()</code>: Reads frames from a video.</li>
            <li><code>cv2.CAP_PROP_POS_FRAMES</code>: Sets or gets the current frame position in a video.</li>
            <li><code>cv2.cvtColor()</code>: Converts image colors (not used explicitly in this code).</li>
        </ul>
    </section>

    <section>
        <h2>Execution Steps</h2>
        <ol>
            <li>Ensure required libraries are installed:</li>
            <pre><code>pip install pygame opencv-python</code></pre>
            <li>Place all required assets (images and video) in the specified directories.</li>
            <li>Run the game script:</li>
            <pre><code>python game.py</code></pre>
        </ol>
    </section>

    <section>
        <h2>Future Improvements</h2>
        <ul>
            <li>Introduce more levels with varying difficulties.</li>
            <li>Add more enemy types and power-ups.</li>
            <li>Enhance visual effects and animations.</li>
            <li>Add gameplay settings to choose spaceship and enemy obstacles.</li>
            <li>Implement multiplayer functionality.</li>
        </ul>
    </section>
</div>

<footer>
    <p>&copy; 2024 Space Fighter Game: Report</p>
</footer>

</body>
</html>
